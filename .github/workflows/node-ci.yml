name: cheqd-node CI

on:
  push:
    paths-ignore:
    - '**.md'
    - 'docs/**'
    - 'architecture/**'
    - '.gitbook/**'

jobs:
  lint-and-test:
    # name: Lint code and run unit tests
    uses: ./.github/workflows/reusable-lint-and-test.yml@v1

  build-and-setup:
    # name: Build deb, images and set up docker pool
    uses: ./.github/workflows/reusable-build-and-setup.yml@v1

  cosmos-and-identity-tests:
    needs: build-and-setup
    # name: Run cosmos and identity tests
    uses: ./.github/workflows/reusable-cosmos-and-identity-tests.yml@v1
