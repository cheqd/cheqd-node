# ADR 008: Importing/exporting mnemonic keys from Cosmos

## Status

| Category | Status |
| :--- | :--- |
| **ADR Stage** | PROPOSED | 
| **Implementation Status** |  Not Implemented |

## Summary

Due to actions in CosmosSdk side we need to have support of keys derivation/restoring as it's implemented on Cosmos side.

Especially we need to handle situation when user want to restore private key by using mnemonic string generated by CosmosSdk.

## Context

### Assumptions / Considerations
* The first assumption is that CosmosSdk uses specific combination of parameters for creating hashed password from the menmonic string.
For now, there is a library which can do the same steps as CosmosSdk, but in the future it can be changed.
Current parameters are:
```
rounds of iteration:    2048
length             :    64
algorithm          :    sha512
salt               :    "mnemonic"+password , where password - set by user, default is ""
```
* CosmosSdk uses HmacSha512 hash-function for creating private Key.
* For now, there is one question about HDpath, especially how to build it in case of using multi-accounts.

## Decision

For now, it would be enough to use bip39 crate which is implementing mnemonic and seed creating [bip39](https://github.com/bitcoin/bips/tree/master/bip-0039) and cosmos-rust which is working with HDPath as described in the [doc](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki) and information about recommended keys can be found [here](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)
Also, as for HDPath we can use as the first step default HDPath for the first account in chain:
```
"m/44'/118'/0'/0/0"
```

## Acceptance criteria
* Should be implemented `--recover` option as in CosmosSdk for restoring private key from mnemonic
* Integration/Unit tests for checking this functionality.

## Consequences

### Positive

* User can easily restore private key from mnemonic not only by using CosmosSdk-based tool.
* Key derivation process will be the same as on Cosmos side. 

### Negative

* We need to keep it in the same way in the future in case of changes on the Cosmos side.

### Neutral

## References
